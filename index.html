<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cloud Config - X-FREE FGP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    }
    .card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .btn-primary:hover {
      background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
    }
    .product-item {
      transition: all 0.2s ease;
    }
    .product-item:hover {
      background: rgba(255, 255, 255, 0.08);
    }
    input, textarea {
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }
    input:focus, textarea:focus {
      background: rgba(0, 0, 0, 0.5);
      border-color: #667eea;
      outline: none;
    }
    .tab-btn {
      transition: all 0.3s ease;
    }
    .tab-btn.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 8px;
    }
    .status-connected { background: #10b981; }
    .status-disconnected { background: #ef4444; }
    .pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: .5; }
    }
  </style>
</head>
<body class="min-h-screen text-white p-6">
  
  <!-- Header -->
  <div class="max-w-7xl mx-auto mb-8">
    <div class="flex items-center justify-between flex-wrap gap-4">
      <div>
        <h1 class="text-4xl font-bold mb-2">Cloud Configuration</h1>
        <p class="text-gray-400">Real-time sync with GitHub</p>
        <div class="mt-2 flex items-center gap-2">
          <span class="status-dot" id="status-indicator"></span>
          <span id="status-text" class="text-sm">Not configured</span>
        </div>
      </div>
      <div class="flex gap-3 flex-wrap">
        <button onclick="showSetup()" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition">
          ‚öôÔ∏è GitHub Setup
        </button>
        <button onclick="testConnection()" class="px-6 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-semibold transition">
          üîå Test Connection
        </button>
        <button onclick="saveToGitHub()" class="px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition">
          ‚òÅÔ∏è Save to Cloud
        </button>
        <button onclick="showTutorial()" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold transition">
          üìñ Tutorial
        </button>
      </div>
    </div>
  </div>

  <!-- GitHub Setup Card -->
  <div class="max-w-7xl mx-auto mb-6 card p-6 rounded-2xl" id="github-setup-card">
    <h2 class="text-2xl font-bold mb-4">üîó GitHub Connection</h2>
    <div class="grid md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium mb-2">GitHub Username</label>
        <input type="text" id="github-username" placeholder="yourusername" 
               class="w-full px-4 py-3 rounded-lg text-white" />
      </div>
      <div>
        <label class="block text-sm font-medium mb-2">Repository Name</label>
        <input type="text" id="github-repo" placeholder="roblox-game-config" 
               class="w-full px-4 py-3 rounded-lg text-white" />
      </div>
      <div class="md:col-span-2">
        <label class="block text-sm font-medium mb-2">GitHub Personal Access Token</label>
        <input type="password" id="github-token" placeholder="ghp_xxxxxxxxxxxx" 
               class="w-full px-4 py-3 rounded-lg text-white" />
        <p class="text-xs text-gray-400 mt-1">Need help? Click "üìñ Tutorial" to learn how to get your token</p>
      </div>
    </div>
    <button onclick="saveGitHubConfig()" class="mt-4 px-6 py-2 btn-primary rounded-lg font-semibold">
      Save GitHub Settings
    </button>
  </div>

  <!-- Tabs -->
  <div class="max-w-7xl mx-auto mb-6">
    <div class="flex gap-2 overflow-x-auto">
      <button onclick="switchTab('webhooks')" class="tab-btn active px-6 py-3 rounded-lg font-semibold whitespace-nowrap" id="tab-webhooks">
        üîó Webhooks
      </button>
      <button onclick="switchTab('settings')" class="tab-btn px-6 py-3 rounded-lg font-semibold whitespace-nowrap" id="tab-settings">
        ‚öôÔ∏è Settings
      </button>
      <button onclick="switchTab('products')" class="tab-btn px-6 py-3 rounded-lg font-semibold whitespace-nowrap" id="tab-products">
        üõí Products
      </button>
      <button onclick="switchTab('gamepasses')" class="tab-btn px-6 py-3 rounded-lg font-semibold whitespace-nowrap" id="tab-gamepasses">
        üéÆ Game Passes
      </button>
      <button onclick="switchTab('colors')" class="tab-btn px-6 py-3 rounded-lg font-semibold whitespace-nowrap" id="tab-colors">
        üé® Colors
      </button>
    </div>
  </div>

  <!-- Content Sections -->
  <div class="max-w-7xl mx-auto">
    
    <!-- Webhooks Section -->
    <div id="section-webhooks" class="space-y-6">
      <div class="card p-6 rounded-2xl">
        <h2 class="text-2xl font-bold mb-4">Discord Webhooks</h2>
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-2">Visit Webhook URL</label>
            <input type="url" id="webhook-visit" placeholder="https://discord.com/api/webhooks/..." 
                   class="w-full px-4 py-3 rounded-lg text-white" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">Purchase Webhook URL</label>
            <input type="url" id="webhook-purchase" placeholder="https://discord.com/api/webhooks/..." 
                   class="w-full px-4 py-3 rounded-lg text-white" />
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Section -->
    <div id="section-settings" class="space-y-6 hidden">
      <div class="card p-6 rounded-2xl">
        <h2 class="text-2xl font-bold mb-4">Webhook Settings</h2>
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-2">Bot Username</label>
            <input type="text" id="setting-username" placeholder="X-FREE FGP" 
                   class="w-full px-4 py-3 rounded-lg text-white" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">Avatar URL</label>
            <input type="url" id="setting-avatar" placeholder="https://..." 
                   class="w-full px-4 py-3 rounded-lg text-white" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">Footer Text</label>
            <input type="text" id="setting-footer-text" placeholder="Powered BY: X-FREE FGP" 
                   class="w-full px-4 py-3 rounded-lg text-white" />
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">Footer Icon URL</label>
            <input type="url" id="setting-footer-icon" placeholder="https://..." 
                   class="w-full px-4 py-3 rounded-lg text-white" />
          </div>
        </div>
      </div>
    </div>

    <!-- Products Section -->
    <div id="section-products" class="space-y-6 hidden">
      <div class="card p-6 rounded-2xl">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-2xl font-bold">Developer Products</h2>
          <button onclick="addProduct()" class="px-4 py-2 btn-primary rounded-lg font-semibold">
            + Add Product
          </button>
        </div>
        <div id="products-list" class="space-y-3">
          <!-- Products will be added here -->
        </div>
      </div>
    </div>

    <!-- Game Passes Section -->
    <div id="section-gamepasses" class="space-y-6 hidden">
      <div class="card p-6 rounded-2xl">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-2xl font-bold">Game Passes</h2>
          <button onclick="addGamePass()" class="px-4 py-2 btn-primary rounded-lg font-semibold">
            + Add Game Pass
          </button>
        </div>
        <div id="gamepasses-list" class="space-y-3">
          <!-- Game passes will be added here -->
        </div>
      </div>
    </div>

    <!-- Colors Section -->
    <div id="section-colors" class="space-y-6 hidden">
      <div class="card p-6 rounded-2xl">
        <h2 class="text-2xl font-bold mb-4">Embed Colors</h2>
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-2">Visit Color (Hex)</label>
            <div class="flex gap-3">
              <input type="color" id="color-visit-picker" class="w-16 h-12 rounded cursor-pointer" />
              <input type="text" id="color-visit" placeholder="0xFFC361" 
                     class="flex-1 px-4 py-3 rounded-lg text-white" />
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium mb-2">Purchase Color (Hex)</label>
            <div class="flex gap-3">
              <input type="color" id="color-purchase-picker" class="w-16 h-12 rounded cursor-pointer" />
              <input type="text" id="color-purchase" placeholder="0x00FF00" 
                     class="flex-1 px-4 py-3 rounded-lg text-white" />
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Tutorial Modal -->
  <div id="tutorial-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-50 p-6" style="display: none;">
    <div class="bg-[#202020] rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-gray-700">
      <div class="sticky top-0 bg-[#202020] p-6 border-b border-gray-700 flex justify-between items-center">
        <h2 class="text-3xl font-bold">üìñ Complete Setup Guide</h2>
        <button onclick="closeTutorial()" class="text-4xl hover:text-red-500 transition">&times;</button>
      </div>
      
      <div class="p-6 space-y-8">
        
        <!-- GitHub Setup -->
        <div class="card p-6 rounded-xl bg-gradient-to-r from-purple-900 to-blue-900">
          <h3 class="text-2xl font-bold mb-4">üöÄ PART 1: GitHub Setup (One-Time)</h3>
          
          <div class="space-y-6">
            <div>
              <h4 class="text-xl font-bold mb-3">Step 1: Create GitHub Account</h4>
              <ol class="space-y-2 text-gray-200 list-decimal list-inside ml-4">
                <li>Go to <a href="https://github.com/signup" target="_blank" class="text-blue-400 underline">github.com/signup</a></li>
                <li>Create a free account (if you don't have one)</li>
                <li>Verify your email</li>
              </ol>
            </div>

            <div>
              <h4 class="text-xl font-bold mb-3">Step 2: Create a Repository</h4>
              <ol class="space-y-2 text-gray-200 list-decimal list-inside ml-4">
                <li>Click the <strong>"+"</strong> icon (top-right) ‚Üí <strong>"New repository"</strong></li>
                <li>Repository name: <code class="bg-black px-2 py-1 rounded">roblox-game-config</code> (or any name)</li>
                <li>Description: "Configuration for my Roblox game"</li>
                <li>Select <strong>"Public"</strong> (so Roblox can read it)</li>
                <li>Check <strong>"Add a README file"</strong></li>
                <li>Click <strong>"Create repository"</strong></li>
              </ol>
            </div>

            <div>
              <h4 class="text-xl font-bold mb-3">Step 3: Create Personal Access Token</h4>
              <ol class="space-y-2 text-gray-200 list-decimal list-inside ml-4">
                <li>Click your profile picture ‚Üí <strong>"Settings"</strong></li>
                <li>Scroll down ‚Üí Click <strong>"Developer settings"</strong> (bottom left)</li>
                <li>Click <strong>"Personal access tokens"</strong> ‚Üí <strong>"Tokens (classic)"</strong></li>
                <li>Click <strong>"Generate new token"</strong> ‚Üí <strong>"Generate new token (classic)"</strong></li>
                <li>Note: "Roblox Game Config"</li>
                <li>Expiration: <strong>"No expiration"</strong> (or choose a date)</li>
                <li>Check the box: <strong>"repo"</strong> (Full control of private repositories)</li>
                <li>Click <strong>"Generate token"</strong> at the bottom</li>
                <li>‚ö†Ô∏è <strong>COPY THE TOKEN NOW!</strong> (You can't see it again)</li>
                <li>It looks like: <code class="bg-black px-2 py-1 rounded text-xs">ghp_xxxxxxxxxxxxxxxxxxxx</code></li>
              </ol>
            </div>

            <div>
              <h4 class="text-xl font-bold mb-3">Step 4: Enter GitHub Info in Dashboard</h4>
              <ol class="space-y-2 text-gray-200 list-decimal list-inside ml-4">
                <li>In this dashboard, scroll to <strong>"üîó GitHub Connection"</strong></li>
                <li>Enter your <strong>GitHub Username</strong></li>
                <li>Enter your <strong>Repository Name</strong> (e.g., "roblox-game-config")</li>
                <li>Paste your <strong>Personal Access Token</strong></li>
                <li>Click <strong>"Save GitHub Settings"</strong></li>
              </ol>
            </div>
          </div>
        </div>

        <!-- Configure Dashboard -->
        <div class="card p-6 rounded-xl">
          <h3 class="text-2xl font-bold mb-4">‚öôÔ∏è PART 2: Configure Your Game</h3>
          <ol class="space-y-3 text-gray-300 list-decimal list-inside ml-4">
            <li><strong>Webhooks Tab:</strong> Add your Discord webhook URLs</li>
            <li><strong>Settings Tab:</strong> Customize bot name, avatar, footer</li>
            <li><strong>Products Tab:</strong> Add all your developer products</li>
            <li><strong>Game Passes Tab:</strong> Add all your game passes</li>
            <li><strong>Colors Tab:</strong> Set embed colors</li>
            <li>Click <strong>"‚òÅÔ∏è Save to Cloud"</strong> - this uploads to GitHub!</li>
          </ol>
        </div>

        <!-- Roblox Setup -->
        <div class="card p-6 rounded-xl bg-gradient-to-r from-green-900 to-teal-900">
          <h3 class="text-2xl font-bold mb-4">üéÆ PART 3: Roblox Studio Setup</h3>
          
          <div class="space-y-6">
            <div>
              <h4 class="text-xl font-bold mb-3">Step 1: Enable HTTP Requests</h4>
              <ol class="space-y-2 text-gray-200 list-decimal list-inside ml-4">
                <li>Open your game in <strong>Roblox Studio</strong></li>
                <li>Go to <strong>Home</strong> ‚Üí <strong>Game Settings</strong></li>
                <li>Click <strong>Security</strong> tab</li>
                <li>Enable <strong>"Allow HTTP Requests"</strong></li>
                <li>Click <strong>"Save"</strong></li>
              </ol>
            </div>

            <div>
              <h4 class="text-xl font-bold mb-3">Step 2: Create CloudConfig Module</h4>
              <ol class="space-y-2 text-gray-200 list-decimal list-inside ml-4">
                <li>In <strong>ServerScriptService</strong>, create a new <strong>ModuleScript</strong></li>
                <li>Name it: <strong>"CloudConfig"</strong></li>
                <li>Copy the code from the code block below</li>
                <li>Replace <code class="bg-black px-2 py-1 rounded text-xs">YOUR_GITHUB_USERNAME</code></li>
                <li>Replace <code class="bg-black px-2 py-1 rounded text-xs">YOUR_REPO_NAME</code></li>
              </ol>
            </div>

            <div class="bg-black p-4 rounded-lg overflow-x-auto">
              <pre class="text-green-400 text-sm"><code>-- ServerScriptService/CloudConfig
local Http = game:GetService("HttpService")

local CloudConfig = {}
CloudConfig.Config = {}
CloudConfig.Products = {}
CloudConfig.GamePasses = {}

local GITHUB_USER = "YOUR_GITHUB_USERNAME"  -- Change this!
local GITHUB_REPO = "YOUR_REPO_NAME"        -- Change this!
local CONFIG_URL = "https://raw.githubusercontent.com/"..GITHUB_USER.."/"..GITHUB_REPO.."/main/config.json"

function CloudConfig:Load()
    local success, result = pcall(function()
        local response = Http:GetAsync(CONFIG_URL)
        return Http:JSONDecode(response)
    end)
    
    if success and result then
        self.Config = result.config or {}
        self.Products = result.products or {}
        self.GamePasses = result.gamepasses or {}
        print("‚úÖ Cloud config loaded successfully!")
        return true
    else
        warn("‚ùå Failed to load cloud config:", result)
        return false
    end
end

-- Auto-load on require
CloudConfig:Load()

return CloudConfig</code></pre>
            </div>

            <div>
              <h4 class="text-xl font-bold mb-3">Step 3: Update Your Webhook Script</h4>
              <ol class="space-y-2 text-gray-200 list-decimal list-inside ml-4">
                <li>Open your existing webhook handler script</li>
                <li>At the top, replace the old config lines with:</li>
              </ol>
              <div class="bg-black p-4 rounded-lg overflow-x-auto mt-2">
                <pre class="text-green-400 text-sm"><code>-- Replace this:
-- local Config = require(ServerScript:WaitForChild("Configure"))

-- With this:
local CloudConfig = require(ServerScript:WaitForChild("CloudConfig"))
local Config = CloudConfig.Config
local ProductData = { Products = CloudConfig.Products }
local GamePassData = { GamePasses = CloudConfig.GamePasses }</code></pre>
              </div>
            </div>

            <div>
              <h4 class="text-xl font-bold mb-3">Step 4: Test Everything</h4>
              <ol class="space-y-2 text-gray-200 list-decimal list-inside ml-4">
                <li>Click <strong>"Play"</strong> in Roblox Studio</li>
                <li>Check the <strong>Output</strong> window for: "‚úÖ Cloud config loaded successfully!"</li>
                <li>Join the game - check Discord for join notification</li>
                <li>Test a purchase - check Discord for purchase notification</li>
              </ol>
            </div>
          </div>
        </div>

        <!-- How It Works -->
        <div class="card p-6 rounded-xl bg-gradient-to-r from-yellow-900 to-orange-900">
          <h3 class="text-2xl font-bold mb-4">üîÑ How Real-Time Updates Work</h3>
          <div class="space-y-3 text-gray-200">
            <p><strong>1. You update the dashboard</strong> ‚Üí Change webhooks, add products, etc.</p>
            <p><strong>2. Click "‚òÅÔ∏è Save to Cloud"</strong> ‚Üí Uploads <code class="bg-black px-2 py-1 rounded">config.json</code> to GitHub</p>
            <p><strong>3. GitHub stores your config</strong> ‚Üí Public URL: <code class="bg-black px-2 py-1 rounded text-xs">raw.githubusercontent.com/.../config.json</code></p>
            <p><strong>4. Roblox fetches on server start</strong> ‚Üí Every time your game server starts, it downloads the latest config</p>
            <p><strong>5. Changes are live!</strong> ‚Üí No need to republish your game</p>
          </div>
          <div class="mt-4 p-4 bg-black bg-opacity-40 rounded-lg">
            <p class="text-sm"><strong>‚ö†Ô∏è Note:</strong> Changes apply when servers restart. Active servers need to be restarted to get new config.</p>
          </div>
        </div>

        <!-- Tips -->
        <div class="card p-6 rounded-xl">
          <h3 class="text-2xl font-bold mb-4">üí° Pro Tips</h3>
          <ul class="space-y-2 text-gray-300 list-disc list-inside">
            <li>Always click <strong>"üîå Test Connection"</strong> before saving to verify GitHub access</li>
            <li>Keep your GitHub token secure - don't share it!</li>
            <li>Your config is public on GitHub (needed for Roblox to read it)</li>
            <li>Don't put sensitive data in the config (like admin passwords)</li>
            <li>You can view/edit <code>config.json</code> directly on GitHub if needed</li>
            <li>Bookmark this dashboard for quick access</li>
          </ul>
        </div>

      </div>

      <div class="sticky bottom-0 bg-[#202020] p-6 border-t border-gray-700">
        <button onclick="closeTutorial()" class="w-full py-3 bg-purple-600 hover:bg-purple-700 rounded-lg font-bold text-lg">
          Got it! Start Configuring
        </button>
      </div>
    </div>
  </div>

  <script>
    // Data storage
    let config = {
      github: {
        username: '',
        repo: '',
        token: ''
      },
      webhooks: {
        visit: '',
        purchase: ''
      },
      settings: {
        username: 'X-FREE FGP',
        avatarUrl: '',
        footerText: 'Powered BY: X-FREE FGP',
        footerIconUrl: ''
      },
      products: {},
      gamepasses: {},
      colors: {
        visit: '0xFFC361',
        purchase: '0x00FF00'
      }
    };

    // Initialize
    window.onload = function() {
      loadFromStorage();
      renderProducts();
      renderGamePasses();
      updateColorPickers();
      updateStatus();
    };

    // Status management
    function updateStatus() {
      const indicator = document.getElementById('status-indicator');
      const text = document.getElementById('status-text');
      
      if (config.github.username && config.github.repo && config.github.token) {
        indicator.className = 'status-dot status-connected pulse';
        text.textContent = `Connected to ${config.github.username}/${config.github.repo}`;
      } else {
        indicator.className = 'status-dot status-disconnected';
        text.textContent = 'Not configured - Click "GitHub Setup"';
      }
    }

    // GitHub functions
    function saveGitHubConfig() {
      config.github.username = document.getElementById('github-username').value.trim();
      config.github.repo = document.getElementById('github-repo').value.trim();
      config.github.token = document.getElementById('github-token').value.trim();
      
      if (!config.github.username || !config.github.repo || !config.github.token) {
        alert('‚ùå Please fill in all GitHub fields!');
        return;
      }
      
      saveToStorage();
      updateStatus();
      alert('‚úÖ GitHub settings saved! Now you can save your config to the cloud.');
    }

    function showSetup() {
      document.getElementById('github-setup-card').scrollIntoView({ behavior: 'smooth' });
      document.getElementById('github-username').focus();
    }

    async function testConnection() {
      if (!config.github.username || !config.github.repo || !config.github.token) {
        alert('‚ùå Please configure GitHub settings first!');
        showSetup();
        return;
      }

      const url = `https://api.github.com/repos/${config.github.username}/${config.github.repo}`;
      
      try {
        const response = await fetch(url, {
          headers: {
            'Authorization': `token ${config.github.token}`,
            'Accept': 'application/vnd.github.v3+json'
          }
        });

        if (response.ok) {
          alert('‚úÖ Connection successful! GitHub repository found.');
        } else if (response.status === 404) {
          alert('‚ùå Repository not found. Please check your username and repo name.');
        } else if (response.status === 401) {
          alert('‚ùå Invalid token. Please check your Personal Access Token.');
        } else {
          alert(`‚ùå Connection failed: ${response.status} ${response.statusText}`);
        }
      } catch (error) {
        alert('‚ùå Network error: ' + error.message);
      }
    }

    async function saveToGitHub() {
      if (!config.github.username || !config.github.repo || !config.github.token) {
        alert('‚ùå Please configure GitHub settings first!');
        showSetup();
        return;
      }

      // Prepare config data
      const configData = {
        config: {
          webhooks: {
            visit: config.webhooks.visit,
            purchase: config.webhooks.purchase
          },
          settings: {
            username: config.settings.username,
            avatarUrl: config.settings.avatarUrl,
            footerText: config.settings.footerText,
            footerIconUrl: config.settings.footerIconUrl
          },
          colors: {
            visit: config.colors.visit,
            purchase: config.colors.purchase
          }
        },
        products: config.products,
        gamepasses: config.gamepasses,
        lastUpdated: new Date().toISOString()
      };

      const content = JSON.stringify(configData, null, 2);
      const base64Content = btoa(unescape(encodeURIComponent(content)));

      // Check if file exists
      const checkUrl = `https://api.github.com/repos/${config.github.username}/${config.github.repo}/contents/config.json`;
      
      try {
        let sha = null;
        const checkResponse = await fetch(checkUrl, {
          headers: {
            'Authorization': `token ${config.github.token}`,
            'Accept': 'application/vnd.github.v3+json'
          }
        });

        if (checkResponse.ok) {
          const data = await checkResponse.json();
          sha = data.sha;
        }
